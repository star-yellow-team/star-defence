<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
        <title>Tower Defense</title>
        
        <link href="stylesheets/style.css" rel="stylesheet" type="text/css">
        
        <!-- Importing jQuery from Google as it probably already is cached in the browser memory -->
        <script type="text/javascript" src="scripts/jquery.js"></script>
        <script type="text/javascript" src="scripts/notify.js"></script>
        
        <script type="text/javascript">
		// function load() {
		//     if(toLoad != 0) {
            	//        setTimeout(load, 50)
            	//        return;
                    //}
    	        // }
			$("#loading").show();
   		</script>
    
    </head>

    <body>
    
		<div id="dimmer"></div>
        
        <h1 id="loading">Loading...</h1>
        
        <script type="text/javascript">
		<!--//--><![CDATA[//><!--

			var images = new Array();
                        var toLoad = 15;
                        /**
                        * images[0] -- MACHINEGUN_TURRET
                        * images[1] -- LASER_TURRET
                        * images[2] -- SIMPLE_MONSTER
                        * images[3] -- FLYING_MONSTER
                        * images[4] -- SPEEDY_MONSTER
                        * images[5] -- POWERFUL_MONSTER
                        * images[6] -- UFO
                        * images[7] -- steluta
                        * images[8] -- PLASMA_TURRET
                        * images[9] -- path
                        * images[10]-- SLOW_TURRET
                        * images[11]-- DETECTOR_TURRET
                        * images[12]-- START
                        * images[13]-- END
                        * images[14]-- rock
                        * images[15]-- grass
                        * images[16]-- star auxiliary
                        * images[17]-- fire
                        * images[18]-- alien
                        */

			function preload() {
				for (i = 0; i < preload.arguments.length; i++) {
					images[i] = new Image()
					images[i].src = preload.arguments[i]
				        images[i].onload = function() {
                                            -- toLoad;
                                        	}
                                }
			}
            
            preload('images/machinegun.png', 'images/lasergun.png', 'images/simplemonster.png', 'images/UFO.png',
            'images/speedymonster.png','images/powerfulmonster.png', 'images/RAMSIMONSTER.png', 'images/star.png',
            'images/plasmagun.png', 'images/path.png', 'images/slowturret.png', 'images/detector.png',
            'images/start.png', 'images/tower.png', 'images/rock.png', 'images/iarba.png', 'images/star2.png', 
            'images/fire.png', 'images/alien.png');
			
			$("#dimmer").css({"opacity":"1"});
			var audio1 = new Audio('sounds/Plasma.mp3');
			var audio2 = new Audio('sounds/Machinegun.ogg');
			var audio3 = new Audio('sounds/Laser.mp3');
			audio2.volume = 0.05;
			audio1.volume = 0.05;
			audio3.volume = 0.05;
		//--><!]]>
		</script>
        
        <h1 id="paused">PauseD</h1>
        
        <div id="play" onClick="pausegame()"></div>
        <div id="restart" onClick="restart()"></div>
        
        <form id="startup">
        	<input type="number" name="map" id="map" placeholder="Map Number"><br/>
            <h2 style="margin:0px;">Game Mode</h2><br/>
        	<input type="radio" class="gamemode" name="gamemode" value="story"><p style="margin-right:10px;">Story</p>
        	<input type="radio" class="gamemode" name="gamemode" value="survival" checked="checked"><p>Survival</p>
            <br/>
            <br/>
			<input type="button" value="Proceed" onClick="startup()" autofocus>
        </form>
        
		<!-- Game Canvas is set to 100% of body -->
        <div id="wrapper">
        	<canvas id="gameCanvas" >
        	</canvas>
            <div id="menu-wrapper">
            	<table id="bar-wrapper">
                    <tr>
                    <td id="health-wrapper"><p id="health">5 / 5</p>
                    </td></tr>
                    <tr>
                    <td id="score-wrapper"><p id="score">0</p>
                    </td></tr>
                    <tr>
                    <td id="money-wrapper"><p id="money">20</p>
                    </td></tr>
                    <tr>
                    <td id="level-wrapper"><p id="level">level 0</p>
                    </td></tr> 
                    <tr>
                </table>
            	<div id="turret-menu" style="text-align:center;">
                	<div class="button" id="machinegun_turret" onClick="stick(11)" onMouseOver="description(MACHINEGUN_TURRET)" touchstart="description(MACHINEGUN_TURRET)" onMouseOut="hideHover()" touchend="hideHover()"></div>
                	<div class="button" id="slow_turret" onClick="stick(12)" onMouseOver="description(SLOW_TURRET)" touchstart="description(SLOW_TURRET)" onMouseOut="hideHover()" touchend="hideHover()"></div>
                	<div class="button" id="laser_turret" onClick="stick(13)" onMouseOver="description(LASER_TURRET)" touchstart="description(LASER_TURRET)" onMouseOut="hideHover()" touchend="hideHover()"></div>
                	<div class="button" id="plasma_turret" onClick="stick(14)" onMouseOver="description(PLASMA_TURRET)" touchstart="description(PLASMA_TURRET)" onMouseOut="hideHover()" touchend="hideHover()"></div>
                	<div class="button" id="detector_turret" onClick="stick(15)" onMouseOver="description(DETECTOR_TURRET)" touchstart="description(DETECTOR_TURRET)" onMouseOut="hideHover()" touchend="hideHover()"></div>
            	</div>
                <input type="button" value=">>" id="ff">
                <input type="button" value="<<" id="rw">
            </div>
        </div>
        
        
        <div id="contextMenu">
            <div class="button" id="upgrade" onMouseOver="upgradeDescription()" touchstart="upgradeDescription()" onMouseOut="hideHover()" touchend="hideHover()" onClick="upgrade()"></div>
            <div class="button" id="remove" onMouseOver="removeDescription()" touchstart="removeDescription()" onMouseOut="hideHover()" touchend="hideHover()" onClick="removeTurret()"></div>
        </div>
        
		
        <!-- This is hidden prior to clicking the blue box and after clicking it -->
        <div class="ghostImage" id="highlight" onClick="cmenu()"></div>
        <div class="ghostImage" id="machinegun" onClick="drawTurret(11)"></div>
        <div class="ghostImage" id="slow" onClick="drawTurret(12)"></div>
        <div class="ghostImage" id="laser" onClick="drawTurret(13)"></div>
        <div class="ghostImage" id="plasma" onClick="drawTurret(14)"></div>
        <div class="ghostImage" id="detector" onClick="drawTurret(15)"></div>
        
        <div id="hover">
        	<h2 id="title">Title</h1>
            <p id="description">Description</p>
            <hr/>
            <p><span style="font-weight:bold; color:yellow">Price: </span><span id="price">Price</span></p>
            <p id="ability"><span style="font-weight:bold; color:yellow">Special Ability: </span><span id="slowt">Slows Down Enemies</span><span id="reveal">Reveals Hidden Enemies</span></p>
            <hr/>
            <p><span style="font-weight:bold;">Affects: </span><span id="damageType">Attack Type</span></p>
            <p><span style="font-weight:bold;">Damage: </span><span id="damage">Damage</p>
            <p><span style="font-weight:bold;">Cooldown: </span><span id="speed">Speed</p>
            <p><span style="font-weight:bold;">Range: </span><span id="range">Range</p>
            <hr/>
            <p><span style="font-weight:bold;">Requirements: </span><span id="requirement">Requirements</p>
        </div>

	    <!-- Scripts are loading after page load to avoid changing unexisting objects -->
        <script type="text/javascript" src="scripts/globals.js"></script>
        <script type="text/javascript" src="scripts/achievements.js"></script>
        <script type="text/javascript" src="scripts/fixedwaves.js"></script> 
        <script type="text/javascript" src="scripts/maps.js"></script>
        <script type="text/javascript" src="scripts/path_finding.js"></script>
        <script type="text/javascript" src="scripts/monster.js"></script>
	<script type="text/javascript" src="scripts/waves.js"></script>
        <script type="text/javascript" src="scripts/turrets.js"></script>
        <script type="text/javascript" src="scripts/auxiliary.js"></script>
        <script type="text/javascript" src="scripts/screen.js"></script>
        <script type="text/javascript" src="scripts/buttons.js"></script>
        <script type="text/javascript" src="scripts/shortcuts.js"></script>
        <script type="text/javascript" src="scripts/story.js"></script>
        <script type="text/javascript" src="scripts/main.js"></script>

		<script type="text/javascript">
			$("#wrapper").fadeOut(0);
		
			$("#loading").animate({"opacity":"0","top":"100"});
			$("#loading").hide();
			
			$("form").show();
		
			$("#play").hide();
		
			$("#restart").hide();
			
			$("#machinegun").css("background-image","url("+images[0].src+")");
			$("#machinegun_turret").css("background-image","url("+images[0].src+")");
			$("#slow").css("background-image","url("+images[10].src+")");
			$("#slow_turret").css("background-image","url("+images[10].src+")");
			$("#laser").css("background-image","url("+images[1].src+")");
			$("#laser_turret").css("background-image","url("+images[1].src+")");
			$("#plasma").css("background-image","url("+images[8].src+")");
			$("#plasma_turret").css("background-image","url("+images[8].src+")");
			$("#detector").css("background-image","url("+images[11].src+")");
			$("#detector_turret").css("background-image","url("+images[11].src+")");
		</script>

		
    </body>
</html>
